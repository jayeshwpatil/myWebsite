import{g as A,r as g,h as r,k as B,o as l,c as a,a as t,l as k,m as P,n as E,f as w,F as S,p as G,w as D,v as T,u as e,i as I,t as o,d as _}from"./index-Dpj5Qxkb.js";import{n as W}from"./noProductFound-HpPmXe2z.js";const H={class:"breadCrumWithHeading lightGreenBg"},M={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},$={class:"breadcrumb"},q={class:"breadcrumb-item"},z=t("i",{class:"bi bi-house-fill"},null,-1),J=t("li",{class:"breadcrumb-item active text-dark","aria-current":"page"},"Cart",-1),K=t("li",null,null,-1),O={class:"container mb-3"},Q={class:"p-5"},X={class:"row"},Y={class:"col-sm-7"},Z={class:"row"},tt={class:"col-sm-3"},st={class:"text-center"},et=["src"],ot={class:"col-sm-8"},lt={class:"productTitle fw-bold mt-3",style:{"min-height":"auto"}},nt={class:"productPrice mt-3"},at={key:0},ct={class:"fw-bold text-success"},it={class:"fw-bold text-dark opacity-25",style:{"margin-left":"10px"}},dt={key:1},ut={class:"fw-bold text-success"},rt={class:"my-3 d-flex justify-content-between"},_t={class:"input-group mb-3"},pt=["onClick"],ht=["onUpdate:modelValue"],vt=["onClick"],bt=t("div",{class:"col-sm-1"},null,-1),mt={class:"col-sm-4"},ft=t("h1",{class:"productTitle fw-bold heightAuto"},"Cart total",-1),xt=t("hr",null,null,-1),gt={class:"p-2"},wt={class:"d-flex justify-content-between"},yt=t("div",{class:"small pt-2",style:{"text-align":"right"}},'(10% discount for first time user, use code "NEWUSER") ',-1),Ct=t("hr",null,null,-1),kt={class:"p-2"},Pt={class:"d-flex justify-content-between mb-2"},St=t("label",null,"Subtotal",-1),Dt={class:"fw-bold"},Tt={class:"d-flex justify-content-between mb-2"},Ft={class:"small px-2"},jt={class:"fw-bold"},Lt={class:"d-flex justify-content-between"},Ut={class:"small"},Vt=t("span",{class:"fw-bold"},null,-1),Nt={class:"d-flex justify-content-between",style:{"margin-left":"20px"}},Rt=t("label",null,"CGST",-1),At={class:"fw-bold"},Bt={class:"d-flex justify-content-between",style:{"margin-left":"20px"}},Et=t("label",null,"SGST",-1),Gt={class:"fw-bold"},It={class:"d-flex justify-content-between mt-3"},Wt=t("i",{class:"bi bi-x-circle"},null,-1),Ht={class:"fw-bold"},Mt=t("hr",null,null,-1),$t={class:"p-2"},qt={class:"d-flex justify-content-between mb-3"},zt=t("label",{class:"fw-bold"},"Total",-1),Jt={class:"fw-bold text-success"},Kt={key:0,class:"text-center"},Xt={__name:"cartPage",props:["allProductData","cartListCount"],emits:["amountDetails"],setup(F,{emit:j}){A();let L=g(["NEWUSER","DIS100"]);const v=F,U=j;let p=g(""),c=g("");const y=r(()=>v.allProductData.filter(f=>f.cart>0)),i=r(()=>v.allProductData.filter(u=>u.cart>0).reduce((u,s)=>u+(s.salePrice?s.salePrice:s.price)*s.cart,0));let d=r(()=>v.cartListCount*30),n=r(()=>(i.value+d.value)*.18),C=()=>{c.value=p.value},b=r(()=>L.value.includes(c.value)?(console.log("Coupon accepted"),c.value=="DIS100"?(i.value+d.value+n.value)*.99:(i.value+d.value+n.value)*.1):(console.log("invalid"),0)),m=r(()=>i.value+d.value+n.value-b.value),V=()=>{console.log("test"),U("amountDetails",{productTotalPrice:i.value,ShippingChanges:d.value,gst:n.value,disc:b.value,total:m.value})};const N=()=>{c.value=null};return(f,h)=>{const u=B("RouterLink");return l(),a(S,null,[t("div",H,[t("nav",M,[t("ol",$,[t("li",q,[k(u,{to:"/"},{default:P(()=>[z,_(" Home")]),_:1})]),J,K])])]),t("div",O,[t("div",Q,[t("div",X,[t("div",Y,[y.value.length<1?(l(),E(W,{key:0})):w("",!0),(l(!0),a(S,null,G(y.value,(s,R)=>(l(),a("div",{key:R,class:"mb-3 border"},[t("div",Z,[t("div",tt,[t("div",st,[t("img",{src:s.imgSrc,class:"productImage pt-3",style:{height:"100px"}},null,8,et)])]),t("div",ot,[t("h1",lt,o(s.name),1),t("h4",nt,[t("div",null,[s.salePrice?(l(),a("span",at,[t("span",ct,"₹ "+o(s.salePrice),1),t("span",it,[t("del",null,"₹"+o(s.price),1)])])):(l(),a("span",dt,[t("span",ut,"₹"+o(s.price),1)]))]),t("div",rt,[t("div",null,[t("div",_t,[t("span",{class:"input-group-text pointer",onClick:x=>s.cart--},"-",8,pt),D(t("input",{type:"text",class:"form-control",style:{width:"50px"},"onUpdate:modelValue":x=>s.cart=x,"aria-label":"Amount (to the nearest dollar)"},null,8,ht),[[T,s.cart]]),t("span",{class:"input-group-text pointer",onClick:x=>s.cart++},"+",8,vt)])])])])])])]))),128))]),bt,t("div",mt,[ft,xt,t("div",gt,[t("div",wt,[D(t("input",{type:"text",class:"form-control",placeholder:"Add a Coupon Code","onUpdate:modelValue":h[0]||(h[0]=s=>I(p)?p.value=s:p=s)},null,512),[[T,e(p)]]),t("button",{class:"btn btn-dark btn-sm",style:{width:"180px"},onClick:h[1]||(h[1]=(...s)=>e(C)&&e(C)(...s))},"Apply Coupon")]),yt]),Ct,t("div",kt,[t("div",Pt,[St,t("span",Dt,"₹ "+o(i.value.toFixed(2)),1)]),t("div",Tt,[t("div",null,[t("label",null,[_("Shipping Charges"),t("span",Ft,"( ₹ 30 * "+o(v.cartListCount)+" product )",1)])]),t("span",jt,"₹ "+o(e(d).toFixed(2)),1)]),t("div",Lt,[t("label",null,[_("GST "),t("span",Ut," ( 18% applicable = ₹ "+o(e(n).toFixed(2))+" )",1)]),Vt]),t("div",Nt,[Rt,t("span",At,"₹ "+o((e(n)/2).toFixed(2)),1)]),t("div",Bt,[Et,t("span",Gt,"₹ "+o((e(n)/2).toFixed(2)),1)]),t("div",It,[t("label",null,[_("Discount "),e(c)?(l(),a("span",{key:0,class:"small border px-2 py-1 bg-warning text-dark mx-2",onClick:N},[_(o(e(c))+" ",1),Wt])):w("",!0)]),t("span",Ht,"₹ "+o(e(b).toFixed(2)),1)])]),Mt,t("div",$t,[t("div",qt,[zt,t("span",Jt,"₹ "+o(e(m).toFixed(2)),1)])]),e(m)>0?(l(),a("div",Kt,[k(u,{class:"btn btn-success",onClick:e(V),to:"/checkout"},{default:P(()=>[_("Proceed to Checkout")]),_:1},8,["onClick"])])):w("",!0)])])])])],64)}}};export{Xt as default};
